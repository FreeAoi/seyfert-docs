---
title: Seyfert Configuration
---

import { FileTree, TabItem, Tabs } from '@astrojs/starlight/components'

### TypeScript Configuration

To ensure Seyfert works correctly, you must update your `tsconfig.json` file and add `emitDecoratorMetadata` and `experimentalDecorators` to enable decorators:

<Tabs>
    <TabItem label ="tsconfig.json">
```json {"Just add the following to your tsconfig.json":3-5} title="tsconfig.json" copy
{
    "compilerOptions": {

        "emitDecoratorMetadata": true,
        "experimentalDecorators": true,
    }
}
``` 
    </TabItem>
    <TabItem label="example">
```json title="tsconfig.json" copy
{
    "compilerOptions": {
        "module": "CommonJS",
        "target": "ESNext",
        "moduleResolution": "node",
        "strict": true,
        "esModuleInterop": true,
        "experimentalDecorators": true,
        "emitDecoratorMetadata": true,
        "preserveConstEnums": true,
        "noImplicitAny": true,
        "strictNullChecks": true,
        "strictFunctionTypes": true,
        "noImplicitThis": true,
        "noUnusedLocals": true,
        "noUnusedParameters": true,
        "noImplicitReturns": true,
        "skipLibCheck": true,
        "noErrorTruncation": true,
        "outDir": "./dist",
        "rootDir": "./src",
        "baseUrl": ".",
        "stripInternal": true,
    },
    "exclude": ["node_modules"],
    "include": ["src/**/*"]
}
```
    </TabItem>
</Tabs>

### Selecting the Bot Type

Currently, Seyfert supports two types of applications: one based on the Discord gateway, which is the most commonly used, and another based on the Discord HTTP interaction system, which is less frequently used. It is essential to understand the differences between these two types to choose the right application for your needs.

:::caution[Important]

These initial steps show the options shared by both types of applications. Later on, the distinctions will be detailed.

:::

<Tabs>
    <TabItem label="Gateway">
        - The Gateway client receives all Discord events such as messageCreate, interactionCreate, guildCreate, ready...
        - The events the client receives depend on the client's intents.
    </TabItem>
    <TabItem label="HTTP">
        - Unlike the gateway, it does not receive events.
        - It only executes commands via HTTP requests from Discord.
    </TabItem>
</Tabs>

### Configuration

After modifying the `tsconfig.json`, there are still a few steps left before you can run the application. You need to inform Seyfert about the project structure:
To do so, create a file named `seyfert.config.mjs` in the root folder of your project and add the following code:

<Tabs>
    <TabItem label="Gateway">
 ```ts twoslash title="seyfert.config.mjs" copy wrap 
import { config } from "seyfert";

export default config.bot({
    token: process.env.BOT_TOKEN ?? "",
    intents: ["Guilds"],
    locations: {
        base: "src",    
        output: "dist", // If using bun, set "src" instead
        commands: "commands"
    }
});
```
    </TabItem>
    <TabItem label="HTTP">
```ts twoslash title="seyfert.config.mjs" copy
// This is omitted to prevent errors.
process.env.BOT_APP_ID = '';
process.env.BOT_PUBLIC_KEY = '';
// ---cut---
import { config } from "seyfert";

export default config.http({
    token: process.env.BOT_TOKEN ?? "",
    applicationId: process.env.BOT_APP_ID,
    port: 3000, // by default is 8080
    publicKey: process.env.BOT_PUBLIC_KEY,
    locations: {
        base: "src",
        output: "dist", // If using bun, set "src" instead
        commands: "commands"
    }
});
```
    </TabItem>
</Tabs>

Next, create a main file named `index.ts` inside the `src` folder and add the following code:

<Tabs>
    <TabItem label="Gateway">
```ts twoslash {5-8} title="src/index.ts" copy wrap
import { Client } from 'seyfert';

const client = new Client();

// This will start the connection to Discord's gateway and load commands, events, components, and languages (i18n)
client.start();
```
    </TabItem>
    <TabItem label="HTTP">
```ts twoslash {5-8} title="src/index.ts" copy wrap
import { HttpClient } from 'seyfert';

const client = new HttpClient();

// This will start listening at `https://yourweb.xyz/interactions` and load commands, components, and languages (i18n)
client.start();
```
    </TabItem>
</Tabs>

Once these steps are completed, your project structure should look like this:

<FileTree>

- src
  - commands/
  - index.ts
- seyfert.config.mjs
- package.json
- .env
- tsconfig.json

</FileTree>
