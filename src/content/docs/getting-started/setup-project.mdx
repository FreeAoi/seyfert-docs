---
title: Seyfert Configuration
---

import { FileTree, TabItem, Tabs } from '@astrojs/starlight/components'

### TypeScript Configuration

To ensure Seyfert works correctly, you need to update your `tsconfig.json` file and add `emitDecoratorMetadata` and `experimentalDecorators` to enable the use of decorators:

<Tabs>
    <TabItem label="tsconfig.json">
```json {"Simply add the following to your tsconfig.json":3-5} title="tsconfig.json" copy
{
    "compilerOptions": {

        "emitDecoratorMetadata": true,
        "experimentalDecorators": true,
    }
}
``` 
    </TabItem>
    <TabItem label="Recommended">
```json title="tsconfig.json" copy
{
    "compilerOptions": {
        "module": "CommonJS",
        "target": "ESNext",
        "moduleResolution": "node",
        "strict": true,
        "esModuleInterop": true,
        "experimentalDecorators": true,
        "emitDecoratorMetadata": true,
        "preserveConstEnums": true,
        "noImplicitAny": true,
        "strictNullChecks": true,
        "strictFunctionTypes": true,
        "noImplicitThis": true,
        "noUnusedLocals": true,
        "noUnusedParameters": true,
        "noImplicitReturns": true,
        "skipLibCheck": true,
        "noErrorTruncation": true,
        "outDir": "./dist",
        "rootDir": "./src",
        "baseUrl": ".",
        "stripInternal": true,
    },
    "exclude": ["node_modules"],
    "include": ["src/**/*"]
}
```
    </TabItem>
</Tabs>

<br/>
---

### Bot Type Selection

Seyfert supports two types of applications for interacting with the Discord API: one based on the **gateway** (websocket) and another based on the **HTTP interaction** system.

Each type serves a distinct purpose, and it's important to understand their differences to choose the one that best fits your needs. If you're unsure which type to select, we recommend using the **Gateway** option.

<Tabs>
    <TabItem label="Gateway">
        - The **Gateway** client handles all events emitted by Discord, such as `messageCreate`, `interactionCreate`, `guildCreate`, `ready`, and more.  
        - The available events depend on the **intents** configured in the client.
    </TabItem>
    <TabItem label="HTTP">
        - Unlike the gateway, the **HTTP** client does not handle events.  
        - Its functionality is limited to receiving interactions (commands and components) via HTTP requests sent from Discord.
    </TabItem>
</Tabs>

<br />

### Configuration

Once the `tsconfig.json` file has been modified to support decorators, there are still a few steps needed to get your application running. Seyfert is designed to automatically load your commands, events, components, and language settings.

To do this, you need to create a file called `seyfert.config.mjs` in the root directory of your project and add the configuration according to the bot type you chose:

<Tabs>
    <TabItem label="Gateway">
 ```ts twoslash title="seyfert.config.mjs" copy wrap 
import { config } from "seyfert";

export default config.bot({
    token: process.env.BOT_TOKEN ?? "",
    intents: ["Guilds"],
    locations: {
        base: "src",    
        output: "dist", // replace with "src" if using bun
        commands: "commands"
    }
});
```
    </TabItem>
    <TabItem label="HTTP">
```ts twoslash title="seyfert.config.mjs" copy
// Prevents errors.
process.env.BOT_APP_ID = '';
process.env.BOT_PUBLIC_KEY = '';
// ---cut---
import { config } from "seyfert";

export default config.http({
    token: process.env.BOT_TOKEN ?? "",
    applicationId: process.env.BOT_APP_ID,
    port: 3000, // default is 8080
    publicKey: process.env.BOT_PUBLIC_KEY,
    locations: {
        base: "src",
        output: "dist", // replace with "src" if using bun
        commands: "commands"
    }
});
```
    </TabItem>
</Tabs>

Additionally, you need to create a main file called `index.ts` inside the `src` folder (specified as *base* in the configuration) and start using it:

<Tabs>
    <TabItem label="Gateway">
```ts twoslash {5-8} title="src/index.ts" copy wrap
import { Client } from "seyfert";

const client = new Client();

// This will start the connection with Discord's gateway and load commands, events, components, and language (i18n).
client.start();
```
    </TabItem>
    <TabItem label="HTTP">
```ts twoslash {5-8} title="src/index.ts" copy wrap
import { HttpClient } from "seyfert";

const client = new HttpClient();

// This will start listening at `https://yourweb.xyz/interactions` and load commands, components, and language (i18n).
client.start();
```

> If you're using Cloudflare Workers, we recommend following the guide on its [dedicated page](../recipes/cloudflare-workers).

    </TabItem>
</Tabs>

<br />

Additionally, you must configure the appropriate types based on the client you're using:

```ts {"Gateway":2-3} {"HTTP":5-6} {"Worker":8-9} copy
declare module 'seyfert' {

  interface UsingClient extends ParseClient<Client<true>> { }
  
  
  interface UsingClient extends ParseClient<HttpClient> { }
  
  
  interface UsingClient extends ParseClient<WorkerClient<true>> { }
} 
```

> For more information on how to declare types and what you can do with them, visit [extending declare module](./declare-module.md).

Once all steps are completed, your project structure should look like this:

<FileTree>

- src
  - commands/
  - index.ts
- seyfert.config.mjs
- package.json
- .env
- tsconfig.json

</FileTree>
